package xyz.shurlin.cultivation.spiritmanual.attack;

import net.minecraft.entity.LivingEntity;
import net.minecraft.entity.projectile.FireballEntity;
import net.minecraft.world.World;
import xyz.shurlin.cultivation.level.ManualLevel;
import xyz.shurlin.cultivation.spiritmanual.AbstractSpiritManual;
import xyz.shurlin.cultivation.spiritmanual.EmptyHandedSpiritManual;
import xyz.shurlin.cultivation.spiritmanual.SpiritManualType;

public class FireballSM extends EmptyHandedSpiritManual {

    public FireballSM(ManualLevel level, long consume, SpiritManualType type, int cooldown) {
        super(level, consume, type, cooldown);
    }

    @Override
    public void use(World world, LivingEntity user) {
        super.use(world,user);
        FireballEntity entity = new FireballEntity(world, user,0,0,0,4);
//        entity.setPosition(Vec3d.ofCenter(user.getBlockPos().up()));
        entity.setProperties(user, user.getPitch(), user.getYaw(), 0.0F,  5.0F, 1.0F);
        entity.setPos(entity.getX() + entity.getVelocity().x, entity.getY() + entity.getVelocity().y, entity.getZ() + entity.getVelocity().z);
//        BrightMoonPollenEntity entity = new BrightMoonPollenEntity(user, world);
//        entity.setProperties(user, user.pitch, user.yaw, 0.0F,  10.0F, 1.0F);
        world.spawnEntity(entity);
    }

}
